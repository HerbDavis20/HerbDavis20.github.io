<!-- This HTML file provides a simple example of a portfolio page. It contains a header, a few sections, and a few charts. -->
<!-- It works with the three css files in this folder: example1.css, example2.css and example3.css. -->
<!-- The HTML file defines the structure of the page, and the CSS files define how it looks. -->
<!-- The CSS examples are all designed to work with this page. Try swapping them out on line 29 and see what happens. -->

<!-- Take a look around and make your own copy to adapt for your own use. -->

<!-- This is a comment -->
<!-- Comments are not displayed in the browser -->
<!-- They can be used to leave notes in the code -->

<!DOCTYPE html>
<html>
<!-- HTML is heirarchial: tags like this define elements on the page. 
    Each tag does something different. For example:
        - The <html> tag defines the whole document.
        - The <h1> tag defines a large heading
        - The <p> tag defines a paragraph
        - Tags appear as an opening <div> and closing </div> pair
    -->

<head>
    <!-- The head tag links to resources our page needs and defines information about it. Tags in the <head> aren't displayed on the page. -->

    <!-- This is a link to a stylesheet which contains rules about how each element on the page should be defined-->
    <!-- Try swapping example1.css to another, and take a look at example1.css to see if you understand it-->
    <link rel="stylesheet" type="text/css" href="index.css">
    <title>My Portfolio page</title> <!-- The title displayed in the browser tab, not on the page itself -->

    <!-- This is a link to the vega-lite which we're using to make graphs -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
    </style>
</head>

<body>
    <!-- The body tag contains the elements that visitors to our page will see. -->
    <header class="header-container">
        <h1 class="site-title">Herb Davis - Data Science</h1>
        <nav class="navbar">
            <a href="project.html" class="nav-button">Project</a>
            <a href="index.html" class="nav-button">Portfolio</a>
        </nav>
    </header>


    <p class="site-links">
        <!-- we're setting the margin to 0px so the header and authour name are close together -->
        Find Me: | <a href="https://www.linkedin.com/in/herb-davis-6286b7212/">LinkedIn</a> | <a
            href="https://github.com/HerbDavis20/HerbDavis20.github.io/tree/main">GitHub</a>
    </p>



    <h2 class="small">
        <!-- We have added a class to the header called "small" which we can use to style it in the CSS -->
        Portfolio
    </h2>

    <!-- We're organising the page into sections, with each section containing a chart, title and a description -->
    <section>
        <div class="chart-description">
            <h2>Section 1: A basic chart</h2>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                We've organised the page into sections, with each section containing a chart, title and a description.
                Here, we can describe the chart and give some context.
                As a first example, we're using a basic chart from our repo.
            </p>
        </div>
        <h3>
            <figure id="Location1" style="width: 70%; height: 400px;"></figure>
        </h3>
        <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
    </section>



    <!--This is the new section i have created for the week 1 project. in here i need to embed 2 charts-->
    <section>
        <div class="chart-description">
            <h2>Task 1: Embed 2 Charts</h2>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                The first chart:
            </p>
        </div>

        <h3>
            <figure id="Location3"></figure>
        </h3> <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
        <!--CREATING THE SECOND CHART -->
        </div>
        <p>
            Below is the second chart:
        </p>
        <h3>
            <figure id="Location4"></figure>
        </h3>
    </section>

    <section>
        <h2 style="margin-bottom: 0px;">
            <!-- We have added a class to the header called "big" which we can use to style it in the CSS -->
            <!-- This is a header, it is the largest text on the page -->
            Task 2: Charts in Vega
        </h2>
        <h3>
            Chart 1:
        </h3>

        <h3>
            <figure id="Location5" style="width: 700px; height: 200px;"></figure>
        </h3>


        <h3>
            Chart 2:
        </h3>
        <h3>
            <figure id="Location6" style="width: 700px; height: 200px;"></figure>
        </h3>
    </section>

    <section>
        <h2>
            Task 3: Festival of Economics Data
        </h2>
        <p>
            One argument that I found interesting from the festival of economics was the extent of spacial disparity in
            the
            labour markets across England.
        </p>

        <h3>
            <figure id="Location7" style="width: 100%; height: 500px;"></figure>

            <figure id="Location8" style="width: 100%; height: 300px;"></figure>
        </h3>
        <p>
            From these charts it's clear to see that the majority of the wealth and skilled labour collects in the south
            of
            engalnd and is particularly high in areas in London, proving that there is a high level of spacial disparity
            in
            the labour markets in England.
        </p>


    </section>


    <section>
        <h2>
            Task 4: Replication. Re-create, then improve, someone elseâ€™s chart
        </h2>
        <img src="https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/main/screenshot_w4chart_FT.jpg"
            alt="Chart Image" width="500" height="300">

        <h3>
            <figure id="Location9" style="width: 530px; height: 200px;"></figure>

        </h3>
        <p>
            Here I have changed the title and subtitle to be more descriptive of the chart. I have also added a 30 day
            moving average to make it easier to see the overall trend in the chart. I have also made the X-axis labels
            more
            clear.
        </p>

    </section>

    <section>
        <h2>
            Task 5: Scraper. Implement a data scraper of your own
        </h2>
        <p>
            <a href="https://colab.research.google.com/drive/1O8yeIJX7_nj5HYAKJi9ycd89iU5gLJy-?usp=sharing"
                target="_blank">Click here for Google Collab python notebook </a>
        </p>
        <p>
            Chart created by scraping data from Wikipedia:
        </p>
        <h3>
            <figure id="Location10"></figure>

        </h3>
        <p>
            This chart shows the 9 countries with the largest population in the world. I chose Wikipedia as typically
            tables
            in wikipedia are directly in the HTML file as tables rather than being written in java and included in the
            HTML
            file. This allowed me to use the pd.read_HTML function in python.
        </p>
    </section>



    <!--'Romania_Bulgaria', 'Total_Africa', 'India', 'Asia', 'South_Africa', 'Pakistan_Bangladesh', 'Australia_New_Zealand', 'USA', 'Cyprus_Malta_Croatia'-->

    <section>
   <h2>
    Task 6: Looping with APIs
   </h2>
        <p>
            This week I created a program to batch download data for various countries' employment levels using the ONS
            API, using
            loops allow many downloads to occur at once. Then in python I could use loops again to convert these
            datasets into individual charts for each country data.
        </p>
        <p>
            <a href="https://colab.research.google.com/drive/1f-p6MIrKNIF_1NezankERkETnQQclJMB?usp=sharing"
                target="_blank">Click here for Google Collab python notebook </a>


        </p>





        <h3>
            <div class="grid-container">
                <div class="grid-item" id="chart-Romania_Bulgaria"></div>
                <div class="grid-item" id="chart-Total_Africa"></div>
                <div class="grid-item" id="chart-India"></div>
                <div class="grid-item" id="chart-Asia"></div>
                <div class="grid-item" id="chart-South_Africa"></div>
                <div class="grid-item" id="chart-Pakistan_Bangladesh"></div>
                <div class="grid-item" id="chart-Australia_New_Zealand"></div>
                <div class="grid-item" id="chart-USA"></div>
                <div class="grid-item" id="chart-Cyprus_Malta_Croatia"></div>
            </div>
        </h3>

    </section>
    <section>
  <h2>
    Task 7: Maps
  </h2>
        <p>
            These maps shows Germany defined by region. The first using a tooltip to show the region on hover and the
            second a chloropleth showing the number of water extraction plants in that region in 2019.
        </p>
        <h3>
            <figure id="Location11" style="width: 100%; height: 500px;"></figure>
        </h3>

        <h3>
            <figure id="Location12" style="width: 100%; height: 500px;"></figure>
        </h3>

    </section>

    <section>
      <h2>

        Task 8: Using Advanced Analytics
      </h2>
        <h3>
            <figure id="Location13" style="width: 100%; height: 500px;"></figure>
        </h3>
        <h3>
            <figure id="Location14" style="width: 100%; height: 500px;"></figure>
        </h3>
    </section>

    <section>
  <h2>
    Task 9: Big Data
  </h2>
        <p>
            For this task I loaded the data into Google Colab to manage the datasets. Using the merge function in Python
            I could combine multiple datasets with the information that was relevant to me. I chose to create
            visualisations for the price of both beef and turkey over time. I thought this might be intersting as I
            wanted to consider the markup of turkey around christmas time compared to a different meat that is less
            seasonal.
            <a href="https://colab.research.google.com/drive/1p_Drc657lfBrKnqstlNjn67sneeoXe-i?usp=sharing"
            target="_blank">Colab file here </a>
        </p>
        <h3>
            <figure id="Location15" style="width: 100%; height: 500px;"></figure>
        </h3>
        <h3>
            <figure id="Location16" style="width: 100%; height: 500px;"></figure>
        </h3>

    </section>


<section>
    <h2>
        Task 10: Option 2.  Interactive Visualisations 
    </h2>
    <h3>
        <figure id="Location17" style="width: 100%; height: 500px;"></figure>
    </h3>
    <h3>
        <figure id="Location18" style="width: 100%; height: 500px;"></figure>
    </h3>
</section>





    <script>
        const charts = [
            {
                id: 'chart-Romania_Bulgaria',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Romania_Bulgaria.json',
                subtitle: 'Romania & Bulgaria'
            },
            {
                id: 'chart-Total_Africa',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Total_Africa.json',
                subtitle: 'Africa'
            },
            {
                id: 'chart-India',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_India.json',
                subtitle: 'India'
            },
            {
                id: 'chart-Asia',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Asia.json',
                subtitle: 'Asia'
            },
            {
                id: 'chart-South_Africa',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_South_Africa.json',
                subtitle: 'South Africa'
            },
            {
                id: 'chart-Pakistan_Bangladesh',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Pakistan_Bangladesh.json',
                subtitle: 'Pakistan & Bangladesh'
            },
            {
                id: 'chart-Australia_New_Zealand',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Australia_New_Zealand.json',
                subtitle: 'Australia & New Zealand'
            },
            {
                id: 'chart-USA',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_USA.json',
                subtitle: 'USA'
            },
            {
                id: 'chart-Cyprus_Malta_Croatia',
                url: 'https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/w6_task_apidata_files/employment_level_Cyprus_Malta_Croatia.json',
                subtitle: 'Cyprus, Malta & Croatia'
            }
        ];


        charts.forEach(chart => {
            const spec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "title": {
                    "text": "Employment level",
                    "subtitle": chart.subtitle
                },
                "width": 159,
                "height": 150,
                "data": {
                    "url": chart.url
                },
                "transform": [
                    {
                        "filter": "datum.date <= '2019-12-31'"
                    }
                ],
                "mark": {
                    "type": "line",
                    "color": "red"
                },
                "encoding": {
                    "x": {
                        "field": "date",
                        "type": "nominal",
                        "axis": {
                            "title": "Date",  // Add custom title for x-axis
                            "labelOverlap": "greedy",
                            "labelAngle": -45
                        }
                    },
                    "y": {
                        "field": "value",
                        "type": "quantitative",
                        "axis": {
                            "title": "Employment Level (Millions)"   // Add custom title for y-axis
                        }
                    }
                }
            };

            vegaEmbed(`#${chart.id}`, spec);
        });






    </script>



    <script>
        // This is a comment in JavaScript - it's a different language to HTML and CSS
        //THIS IS THE CODE TO SOURCE THE CODE FOR THE CHART - WHAT THE LOCATION3 IS REFERING TO

        let figure_3_spec = "https://raw.githubusercontent.com/RDeconomist/RDeconomist.github.io/main/charts/crypto/chartcrypto12.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location3', figure_3_spec) // We're using the vegaEmbed function to put a graph in the element with id figure_1


        // This is a comment in JavaScript - it's a different language to HTML and CSS

        let figure_4_spec = "https://raw.githubusercontent.com/RDeconomist/RDeconomist.github.io/main/charts/crypto/chartcrypto7.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location4', figure_4_spec) // We're using the vegaEmbed function to put a graph in the element with id figure_1





        // This is a comment in JavaScript - it's a different language to HTML and CSS

        let figure_1_spec = "https://raw.githubusercontent.com/EconomicsObservatory/courses/main/2/s2_chart2.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location1', figure_1_spec) // We're using the vegaEmbed function to put a graph in the element with id figure_1


        let figure_5_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/visualization.vl.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location5', figure_5_spec)


        let figure_6_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/week2_chart_2.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location6', figure_6_spec)

        // figures for week 3 project 

        let figure_7_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/week3_chart1.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location7', figure_7_spec)

        let figure_8_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W3_chart2.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location8', figure_8_spec)

        let figure_9_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W4_FTchartimprovements.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location9', figure_9_spec)

        let figure_10_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W5_chart_scraping.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location10', figure_10_spec)

        let figure_11_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W9_Maps/W9_map1_Germany.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location11', figure_11_spec)

        let figure_12_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W9_Maps/cloropleth_WaterExtraction_germany.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location12', figure_12_spec)

        let figure_13_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W10_advanced_analytics/chart1.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location13', figure_13_spec)

        let figure_14_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W10_advanced_analytics/chart2.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location14', figure_14_spec)

        //beef chart 
        let figure_15_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W10_bigdata/beef_price_chart.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location15', figure_15_spec)

        //turkey chart
        let figure_16_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/W10_bigdata/turkey_chart.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location16', figure_16_spec)

        //chart1 for week 10 task - correlation chart 
        let figure_17_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/final%20week%20tasks/W10chart.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location17', figure_17_spec)

        let figure_18_spec = "https://raw.githubusercontent.com/HerbDavis20/HerbDavis20.github.io/refs/heads/main/project_files/vix%20spikeBTCprice%20analysis.json"; // We're storing the URL of the graph we want to display in a variable
        // You should have a spec for a graph in this same folder. Just specify its name here, e.g. let figure_1_spec = "chart1.json"

        vegaEmbed('#Location18', figure_18_spec)

    </script>







</body>

</html>